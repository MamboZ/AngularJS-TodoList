<div class="settings" *ngIf="$lang |async as lang">

    <a class="settings-back cursor-pointer" (click)="back()" title="{{lang.backtitle}}">
        <i class="fa fa-chevron-left" aria-hidden="true"></i> {{lang.back}}
    </a>

    <h3 class="settings-title">{{lang.settings}}</h3>

    <form class="settings-form" (ngSubmit)="saveSettings()">
        <div class="form-group">
            <label for="settings-title">{{lang.title}}:</label>
            <input type="text" class="form-control" placeholder="{{lang.title}}..." name="settings-title"
                id="settings-title" [(ngModel)]="settings.title" required>
            <small id="title-help" class="form-text text-muted">{{lang.titlehelp}}.</small>
        </div>

        <div class="form-group">
            <label for="settings-title">{{lang.language}}:</label>
            <select class="form-control" name="settings-language" id="settings-language" [(ngModel)]="settings.language"
                (change)="showReload = true">
                <option *ngFor="let l of languages; trackBy:identify" value="{{l.short}}">{{l.full}}</option>
            </select>
            <small id="language-help" class="form-text text-muted">{{lang.languagehelp}}.</small>
        </div>

        <div class="form-group">
            <label for="settings-title">{{lang.dateformat}}:</label>
            <input type="text" class="form-control" placeholder="{{lang.dateformat}}..." name="settings-dateformat"
                id="settings-dateformat" [(ngModel)]="settings.dateformat" required>
            <small id="dateformat-help" class="form-text text-muted">{{lang.dateformathelp}}. <a target="_blank"
                    href="https://code.angularjs.org/1.6.4/docs/api/ng/filter/date">{{lang.help}}</a></small>
        </div>

        <div class="form-group">
            <label for="settings-timezone">{{lang.timezone}}:</label>
            <div [innerHtml]="externalHtml"> 
            </div>
            <small id="timezone-help" class="form-text text-muted">{{lang.timezonehelp}}.</small>
        </div>

        <button type="submit" class="btn btn-primary" id="submit-btn"><i class="fa fa-floppy-o" aria-hidden="true"></i>
            {{lang.save}}</button>
        <label for="submit-btn" class="reload" [hidden]="showReload">Please reload the page after saving!</label>
    </form>

</div>